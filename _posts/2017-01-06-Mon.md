---
date: 2017-01-16
title: Manual Monitor
categories:
  - Monitor
description:  STCP OFTP Monitor Versão 5.0.7
type: Document
---


# STCP OFTP Monitor Versão 5.0.7



### O que é o STCP Monitor? 

O STCP Monitor é uma ferramenta para monitoração e controle do SLA das transferências. É um sistema de software pró-ativo, capaz de permitir que as atividades em uma empresa sejam acompanhadas constantemente, identificando os problemas para serem solucionados antes de ocorrer o erro. Desta forma, as ações corretivas poderão ser tomadas próximas do momento da falha, gerando a redução dos impactos causados sobre as atividades.

### Onde usar o STCP Monitor
O STCP Monitor pode ser utilizado para:

*  Controle das transferências de arquivos;  
* Controle da execução de operações relacionadas a um parceiro ou processo;   

### Quais as vantagens
O STCP Monitor oferece as seguintes vantagens:

* Acompanhar atividades;   
* Reduzir impactos causados sobre as atividades;  
* Evitar penalidades decorrentes de atrasos;   
* Antecipar a resolução de problemas;  
* Estabelecer novas rotinas e ajustes  operacionais;    

### Características
O STCP Monitor oferece as seguintes características:

* Aplicação Web PHP;   
* Interface de acesso através de browser;   
* Visão diferenciada por grupo;  
* Monitoração do SLA das transferências;  
* Relatórios de históricos e estatísticas de SLA;  
* Alertas: e-mail, trap snmp, event viewer;  
* Exportação dos relatórios para PDF e EXCEL;  

### Requisitos de software e hardware
O STCP OFTP Client necessita dos seguintes requisitos de software e hardware para a sua instalação:

* Processador 500MHz x86, x64 ou superior  
* Mínimo de 512 Mbytes de memória RAM   
* 10 Mbytes de espaço disponível em disco rígido para o aplicativo   
* Drive de CD/DVD-ROM   
* STCP OFTP Web Admin   
* Sistema operacional Windows 2000/XP/2003/Vista/2008   
* IIS 6 ou superior / Apache   
* Internet Explorer 6 (SP1) ou superior   
* Banco de dados (SQL Server, MySQL, Oracle)  
* Driver ODBC para conexão com o Banco de Dados  

----------
## **Como instalar o STCP Monitor**

O STCP Monitor é distribuído através de uma mídia CD-ROM que contém o programa SETUP.EXE. Os seguintes passos devem ser executados para iniciar o processo de instalação:

1. Execute o arquivo de instalação no local em que foi salvo ou diretamente através da unidade de CD-ROM.

![](/images/imagem1/img1.png)

2. Clique em **Avançar** para continuar o processo de instalação.

![](/images/imagem1/img2.png) 

3. Clique em **Avançar** para continuar o processo de instalação.

![](/images/imagem1/img3.png) 

4. Selecione a opção “Aceito os termos do contrato de licença” e clique em **Avançar**.

![](/images/imagem1/img4.png) 

5. Digite suas informações e clique em **Avançar**.

![](/images/imagem1/img5.png) 

6. Clique em **Alterar** para modificar o diretório.

![](/images/imagem1/img6.png) 

7. Altere o diretório de instalação para “**C:\Inetpub\wwwroot\STCP_MONITOR\”.** 

![](/images/imagem1/img7.png) 

8. Verifique se as opções estão corretas e clique em **Instalar**.

![](/images/imagem1/img8.png) 

9. Para finalizar o processo de instalação, clique em **Concluir**. 

![](/images/imagem1/img9.png) 

### Criação do Banco de Dados STCP Monitor

O STCP Monitor é compatível com diversos bancos de dados existentes no mercado, tais como: Microsoft SQL Server, Oracle, Sybase e MySQL.

1. Crie um banco de dados “**STCPWEB_DB**” no servidor utilizando a ferramenta adequada ao
sistema. A pasta “**C:\inetpub\wwwroot\stcpmonitor\support\scripts**” contém os scripts para a criação das tabelas do banco de dados “STCPWEB_DB”.

![](/images/imagem1/img10.png) 

### Configuração do driver ODBC para acesso ao Banco de Dados 

Os seguintes procedimentos devem ser executados para configuração do driver ODBC de acesso ao Banco de Dados.

1. Acesse a ferramenta de configuração do ODBC.

![](/images/imagem1/img11.png) 

2. Selecione a guia **Fonte de dados de sistema (System DSN)**.

![](/images/imagem1/img12.png)

3. Selecione o driver na lista e clique em **Concluir**.

![](/images/imagem1/img13.png) 


4. Preencha os seguintes campos com as informações requeridas e clique no botão **Avançar (Next)** para salvar.

![](/images/imagem1/img14.png) 

5. Marque a opção “Com autenticação do SQL Server usando ident. de logon e senha inseridos pelo usuário”.

6. Clique no botão **Avançar (Next**) e finalize as configurações padrões da fonte de dados ODBC.

![](/images/imagem1/img15.png) 

7. Modifique as configurações e clique no botão **Avançar (Next)** para prosseguir.

![](/images/imagem1/img16.png) 

8. Modifique as configurações e clique no botão **Concluir** para finalizar as configurações da fonte de dados ODBC.

![](/images/imagem1/img17.png) 

9. Clique no botão **Test Data Source** para efetuar o teste de conectividade a Base de Dados.

![](/images/imagem1/img18.png) 

### Instalação e configuração do processador de scripts PHP

Faça o download da última versão do processador de scripts PHP do site (www.php.net) e execute os
passos seguintes:

1. Extraia o arquivo do PHP no diretório “**< drive>:\php**”.   
2. Crie o diretório de controle de sessão “**< drive>:\php\sessiondata**”.   
3. Copie o arquivo PHP-IIS.INI do diretório “**< drive>:\STCPWEB_ADMIN\conf**” para o
diretório “**< drive>:\php**” com o nome PHP.INI  
4. Altere o arquivo **PHP.INI** com os parâmetros abaixo e salve o arquivo.  

![](/images/imagem1/img19.png) 

Os seguintes parâmetros devem ser alterados para refletir o ambiente de instalação:

short_open_tag = On   
allow_call_time_pass_reference = On   
max_execution_time = 300   
error_reporting = E_ALL & ~E_NOTICE  
display_errors = On  
register_globals = On  
cgi.force_redirect =0  
fastcgi.impersonate =1  
cgi.rfc2616_headers = 1  
include_path = ".;< drive>:\php\includes  
session.save_path = "< drive>:\php\sessiondata"  
session.use_cookies = 1   

Obs: O caractere “;” (ponto e vírgula) no início da linha indica um comentário. Para os parâmetros acima o caractere deve ser removido. 

--------
## **Como configurar o STCP Monitor**

### Configuração do STCP Monitor no IIS 6

1. Acesse a ferramenta de gerenciamento e administração do Internet Information Services (IIS) para criar o site do STCP Monitor.

![](/images/imagem1/img20.png) 

2. Adicione uma Extension para o PHP, clicando com o botão direito do mouse em “Web Service Extension” e selecione “**Add a new Web service extension**”.

![](/images/imagem1/img21.png) 

3. Digite “**PHP*” como o nome da nova extensão Web service e clique em **Adicionar**.

![](/images/imagem1/img22.png) 

4. Procure o diretório de instalação do arquivo “**php-cgi.exe**”, ou digite o caminho:

![](/images/imagem1/img23.png) 

5. Marque a opção “**Definir status da extensão como permitido**” e clique em **OK**.

![](/images/imagem1/img24.png) 

6. Crie o novo site para o STCP Monitor. 

![](/images/imagem1/img25.png) 

7. Verifique com o Administrador da Rede as configurações corretas para este passo e clique em **Avançar** para prosseguir.

![](/images/imagem1/img26.png) 

8. Procure o diretório onde o novo Web Site será criado, ou digite o caminho. Caso este não exista, ele deverá ser criado previamente. 

![](/images/imagem1/img27.png)

9. Clique em **Avançar** para prosseguir.

![](/images/imagem1/img28.png) 

10. Marque as seguintes opções: 

![](/images/imagem1/img29.png) 

11. Adicione “**stcpweblogin.php**” como a página inicial padrão do novo site que foi criado.

![](/images/imagem1/img30.png)

12. Na guia **Home Directory**, selecione as opções mostradas abaixo.

![](/images/imagem1/img31.png) 

13. Clique em **Configuration** para prosseguir.

![](/images/imagem1/img32.png) 

14. Digite o caminho do arquivo “**php-cgi.exe**” no campo Executable e “**.php**” em Extension.

![](/images/imagem1/img33.png) 

15. Com o botão direito do mouse, clique em **STCPWEB → New → Virtual Directory**.

![](/images/imagem1/img34.png) 

16. Digite “stcpweb” como o nome do diretório. 

![](/images/imagem1/img35.png) 

17. Procure o diretório onde o Web Site será publicado, ou digite o caminho. 

![](/images/imagem1/img36.png) 

18. Configure as permissões de acesso para o usuário “**Internet Guest Account (IUSR)**” nos diretórios abaixo relacionados:

Diretório | Permissões
:---      | :---
C:\php    | Leitura /Execução
C:\php\sessiondata | Leitura /Gravação
C:\Inetpub\wwwroot\STCPWEB_ADMIN\www | Leitura /Gravação /Modificação
%SYSTEMROOT%\CMD.EXE | Leitura /Execução
C:\Inetpub\wwwroot\STCPWEB_ADMIN\conf | Leitura /Gravação /Modificação

------
## **Como utilizar o STCP Monitor** 

### Acesso ao STCP Monitor

1. Pelo seu navegador, entre com o endereço do STCP Monitor. 

![](/images/imagem1/img37.png)

2. Digite “seu nome de operador” no campo operador e “sua senha” em senha.

Obs.: utilize “seu nome de operador” e “senha” cadastrados no STCP Web Admin.

![](/images/imagem1/img38.png) 

### Cadastro de Parceiros no sistema

1. Acesse **Manutenção → Parceiros**.
2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img40.png) 

3. Cadastre o parceiro no sistema. 

![](/images/imagem1/img41.png) 

Campos | Descrição
:---   | :---
Nome   | Nome do parceiro.
Descrição | Campo livre para o usuário da aplicação descrever o parceiro.
Criticidade | Importância atribuída ao parceiro pelo usuário da aplicação (Baixa, Média ou Alta).
Data de Criação | Data em que o parceiro foi cadastrado.
Data de Ativação | Data em que o parceiro passa a ser funcional.
Data de Expiração | Data em que o parceiro deixa de ser funcional.
Ambiente de Execução | Habilita o ambiente no qual o parceiro está inserido no momento da monitoração (Desenvolvimento, Homologação, Produção ou Outro).
Logotipo | O usuário deve selecionar o logotipo do parceiro.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações do parceiro no sistema.

### Cadastro de Analistas Responsáveis no sistema

1. Acesse **Manutenção → Analistas Responsáveis**.

2. Clique no botão ![](/images/imagem1/img39.png). 

![](/images/imagem1/img43.png) 

3. Cadastre o analista no sistema.  

![](/images/imagem1/img44.png) 

Campos | Descrição
:---   | :---
Nome   | Nome do Analista Responsável pela operação.
Descrição| Campo livre para o usuário da aplicação descrever o analista responsável pela operação.
Telefone | Comercial Telefone Comercial do Analista Responsável pela operação.
Telefone | Celular Telefone Celular do Analista Responsável pela operação.
Telefone | Residencial Telefone Residencial do Analista Responsável pela operação.
E-mail | E-mail do Analista Responsável pela operação.
Nível de Responsabilidade | Define o nível de responsabilidade do analista. O nível 0 representa o mais alto nível de responsabilidade.
Id Operação| Identifica as operações às quais o analista está vinculado.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações do analista no sistema.

### Cadastro de Usuários no sistema

1. Acesse **Manutenção → Usuários**.

2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img45.png) 

3. Cadastre o usuário no sistema. 

![](/images/imagem1/img46.png) 

Campos | Descrição
:---   | :---
Nome   | Nome do usuário.
Descrição| Campo livre para o usuário da aplicação descrever o usuário da aplicação.
Id Operação | Identifica as operações às quais o usuário está vinculado.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações do usuário no sistema.

### Cadastro de Grupos de Emails no sistema

1. Acesse **Manutenção → Grupos de Emails**.

2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img47.png) 

3. Cadastre o grupo de emails no sistema.  

![](/images/imagem1/img48.png) 

Campos | Descrição
:---   | :---
Nome   | Nome do Grupo de E-mails.
Descrição |Campo livre para o usuário da aplicação descrever o grupo de emails.
Emails | Lista de e-mails que serão cadastrados no grupo.

4. Clique no botão ![](/images/imagem1/img42.png) 
para salvar as informações do grupo de email no sistema.

### Cadastro de Grupos de Monitorações no sistema

1. Acesse **Manutenção → Grupos de Monitorações**.

2. Clique no botão ![](/images/imagem1/img39.png).

3. Cadastre o grupo de monitorações no sistema. 

![](/images/imagem1/img49.png) 

Campos | Descrição
:---   | :---
Nome   | Nome do Grupo de E-mails.
Descrição | Campo livre para o usuário da aplicação descrever o grupo de monitorações.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações do grupo de monitorações no sistema.

### Cadastro de Operações no sistema

1. Acesse **Manutenção → Parceiros → Operações**.

2. Clique no botão ![](/images/imagem1/img39.png). 

![](/images/imagem1/img50.png) 

3. Cadastre a operação no sistema.  

![](/images/imagem1/img51.png) 

Campos | Descrição
:---   | :---
Nome da Operação| Nome da Operação.
Descrição |Campo livre para o usuário da aplicação descrever a operação.
Criticidade| Importância atribuída à operação pelo usuário da aplicação (Baixa, Média, Alta ou Nenhuma).
Tipo Operação |Define o tipo de operação: Transmissão, Recepção ou Processamento.
Modo de Execução | Manual: descritivo que informa que a operação é manual. /Automática: descritivo que informa que a operação é automática. /Manual/Monitorada: realiza um controle para verificar se a operação foi realizada. /Automática/Monitorada: realiza um controle para verificar se a operação foi realizada.
Id Parceiro | Identifica os parceiros vinculados à operação.
Id Usuário | Identifica os usuários vinculados à operação.
Id Analista | Identifica os analistas vinculados à operação.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações da operação no sistema.

### Cadastro de Periodicidades no sistema

1. Acesse **Manutenção → Parceiros → Operações → Periodicidades**.

2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img52.png)

3. Configure a periodicidade da operação no sistema.  

![](/images/imagem1/img53.png) 

Campos | Descrição
:---   | :---
Nome   | Nome da Periodicidade.
Descrição | Campo livre para o usuário da aplicação descrever a periodicidade.
Tipo de Periodicidade| A periodicidade da monitoração da operação pode ser: Diária, Semanal, Mensal, Anual, Cíclica ou Por demanda. /Diária: inicia-se diariamente no horário inicial programado, podendo ter um tempo estimado superior a 24 horas. /Semanal: inicia-se semanalmente no horário inicial programado e termina no período de uma semana a partir do horário de início. /Mensal: inicia-se mensalmente no horário inicial programado e termina no período de uma semana a partir do horário de início. /Anual: inicia-se anualmente no horário inicial programado e termina no período de um ano a partir do horário de início. /Cíclica: inicia-se na hora, dia, mês programados e se reinicia no momento em que a monitoração anterior é concluída. /Por demanda:
Dias da semana| Campo para marcar os dias da semana em que a monitoração da operação será iniciada.
Dias | Campo para marcar os dias do mês em que a monitoração da operação será iniciada.
Meses |Campo para marcar os meses do ano em que a monitoração da operação será iniciada.
Horário| Inicial Horário de início da monitoração da operação.
Tempo estimado (dias, horas, minutos)| Intervalo entre o horário em que a monitoração se iniciou e o término do tempo esperado para a conclusão da operação.
Monitoração| Manual: para efeito de documentação. /Automática: inicia-se automaticamente.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações da operação no sistema.

### Cadastro de Procedimentos no sistema

1. Acesse **Manutenção → Parceiros → Operações → Procedimentos**.

2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img54.png)

3. Cadastre o procedimento no sistema. 

![](/images/imagem1/img55.png) 

Campos | Descrição
:---   | :---
Nome   | Nome da Operação.
Descrição |Campo livre para o usuário da aplicação descrever a operação.
Tipo da Ocorrência| Em andamento, Concluída, Cancelada, Suspensa, Atrasada
Tempo da Ocorrência (dias, horas, minutos)| Configure o período em que deve ocorrer a operação.
Quantidade da Ocorrência (0=continuamente)| Número de vezes que uma operação deve ocorrer.
Impacto| Alto, Médio, Baixo, Nenhum
Nível de Alerta| 0 até 9
Ação |Enviar e-mail para o contato, Cancelar Monitoração, Cancelar Monitoração & Enviar e-mail para o contato, Suspender Monitoração, Suspender Monitoração & Enviar e-mail para o contato, Executar programa externo, Ativar Monitoração, Ligar o Responsável, Nenhuma
Acionar |Contato que será acionado.
Id Operação |Operação que será realizada.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações da operação no sistema.

### Configuração da Rastreabilidade no sistema

1. Acesse **Manutenção → Parceiros → Operações → Rastreabilidade**.

2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img56.png)

3. Cadastre a rastreabilidade no sistema. 

![](/images/imagem1/img57.png)

Campos |Descrição
:---   | :---
Ordem  | Sequência para pesquisar uma informação (caso haja mais de uma sequência definida, a de maior ordem será utilizada).
Método | Maneira que o STCP Monitor deve utilizar para localizar a informação da operação (Manual, STCP, STCPREN, COPY, FTP).
Usuário (Caixa Postal)| De acordo com o método selecionado este campo é utilizado para identificar em qual servidor/usuário a operação ocorreu.
Caminho de Origem| Nome do caminho do arquivo (utilizada para documentar).
Arquivo de Origem |Nome do arquivo.
Caminho de Destino |Máscara do caminho (path) do arquivo (Esta máscara segue a sintaxe do comando LIKE do SQL).
Arquivo de Destino| Máscara do nome do arquivo (Esta máscara segue a sintaxe do comando LIKE do SQL).
Id Operação| Operação associada à rastreabilidade.

4. Clique no botão ![](/images/imagem1/img42.png) para salvar as informações da operação no sistema.

### Cadastro de Notas no sistema

1. Acesse **Manutenção → Parceiros → Notas**.
2. Clique no botão ![](/images/imagem1/img39.png).

![](/images/imagem1/img58.png)

3. Cadastre a nota no sistema. 

![](/images/imagem1/img59.png)

### Visualização das Operações em andamento

1. Acesse **Monitoração → Em andamento**.

2. Visualize a condição de todas as operações cadastradas no sistema. 

![](/images/imagem1/img60.png)

### Visualização das Operações em andamento dos parceiros

1. Acesse **Monitoração → Em andamento → Parceiros**.

2. Visualize o status das operações dos parceiros. 

![](/images/imagem1/img61.png)

3. Clique sobre o parceiro para visualizar a condição das operações dos parceiros cadastradas no sistema.

![](/images/imagem1/img62.png)

----
## **Visualização das Operações de grupos em andamento**

1. Acesse **Monitoração → Em andamento → Grupos**.

2. Visualize o status das operações em andamento dos grupos.

![](/images/imagem1/img63.png)

3. Clique sobre o grupo para visualizar a condição das operações dos parceiros cadastradas no sistema.

![](/images/imagem1/img64.png)

### Customização da Monitoração

1. Acesse **Monitoração → Customizada**.

![](/images/imagem1/img65.png)

### Relatórios de Estatísticas

1. Acesse **Relatórios → Estatísticas**.

![](/images/imagem1/img66.png)

Campos | Descrição
:---   | :---
Tipo   | Por data de inclusão; Por data de alteração
Resultado| Todas; Atrasadas; No horário
Condição |Todas; Em andamento; Concluídas; Canceladas; Suspensas
Tipo   | Operação Todas; Recepção; Transmissão; Processamento
Tipo   | Periodicidade Todas; Diária; Semanal; Mensal; Anual; Cíclica
Data Inicial| Dia, mês, ano, horas e minutos
Data Final| Dia, mês, ano, horas e minutos

### Relatórios de Histórico

1. Acesse **Relatórios → Histórico**.

![](/images/imagem1/img67.png)

Campos | Descrição
:---   | :---
Resultado | Todas; Atrasadas; No horário
Condição  | Todas; Em andamento; Concluídas; Canceladas; Suspensas
Tipo Operação| Todas; Recepção; Transmissão; Processamento
Tipo | Periodicidade Todas; Diária; Semanal; Mensal; Anual; Cíclica
Data Inicial| Dia, mês, ano, horas e minutos
Data Final |Dia, mês, ano, horas e minutos

### Relatórios de Gestão SLA

1. Acesse **Relatórios → Gestão SLA**.

![](/images/imagem1/img68.png) 

Campos            | Descrição
:---              | :---
Resultado         | Todas; Atrasadas; No horário
Condição          |Todas; Em andamento; Concluídas; Canceladas; Suspensas
Tipo Operação     | Todas; Recepção; Transmissão; Processamento
Tipo Periodicidade| Todas; Diária; Semanal; Mensal; Anual; Cíclica
Data Inicial      | Dia, mês, ano, horas e minutos
Data Final        | Dia, mês, ano, horas e minutos

